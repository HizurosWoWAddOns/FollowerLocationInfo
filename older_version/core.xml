<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\..\FrameXML\UI.xsd">

	<Include file="localizations\core.xml" />
	<Script file="followers.lua" />
	<Script file="core.lua" />

	<Button name="FollowerLocationInfoButton" inherits="MainMenuBarMicroButton" hidden="true">
		<Scripts>
			<OnLoad>
				LoadMicroButtonTextures(self, "Spellbook");
			</OnLoad>
			<OnClick />
			<OnEnter />
		</Scripts>
	</Button>

	<GameTooltip name="FollowerLocationInfo_ScannerTooltip" inherits="GameTooltipTemplate" hidden="true" alpha="0" />

	<Frame name="FollowerLocationInfoLine" hidden="false" virtual="true">
		<Layers>
			<Layer level="ARTWORK">
				<FontString parentKey="title" inherits="GameFontNormal" justifyH="RIGHT" nonspacewrap="true">
					<Size x="120" y="12" />
					<Anchors>
						<Anchor point="TOPLEFT" />
					</Anchors>
				</FontString>
				<FontString parentKey="text" inherits="GameFontHighlight" justifyH="LEFT" nonspacewrap="true" hidden="true">
					<Size x="320" />
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.title" relativePoint="TOPRIGHT" x="6" />
						<!-- <Anchor point="RIGHT" /> -->
					</Anchors>
				</FontString>
				<Texture parentKey="img" hidden="true">
					<Size x="256" y="256" />
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.title" relativePoint="TOPRIGHT" x="6" />
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Frame>

	<Frame name="FollowerLocationInfoFrame" hidden="true" >
		<Backdrop bgFile="Interface\Buttons\WHITE8X8" tile="true">
			<EdgeSize val="8"/>
			<TileSize val="8"/>
			<BackgroundInsets left="0" right="0" top="0" bottom="0"/>
			<Color r="0" g="0" b="0" a="0.9" />
		</Backdrop>
		<Frames>
			<ScrollFrame name="$parentScrollFrame" parentKey="Scroll" setAllPoints="true" enableMouse="true">
				<Frames>
					<Slider name="$parentScrollBar" parentKey="Bar">
						<Size x="12" y="0" />
						<Backdrop bgFile="Interface\Buttons\UI-SliderBar-Background" edgeFile="Interface\Buttons\UI-SliderBar-Border" tile="true">
							<EdgeSize val="8" />
							<TileSize val="8" />
							<BackgroundInsets left="3" right="3" top="3" bottom="3" />
						</Backdrop>
						<ThumbTexture parentKey="Thumb" file="Interface\Buttons\UI-SliderBar-Button-Vertical" />
						<Scripts>
							<OnValueChanged>
								self:GetParent():SetVerticalScroll(value);
							</OnValueChanged>
						</Scripts>
					</Slider>
				</Frames>
				<ScrollChild>
					<Frame name="$parentChild" parentKey="Child" >
						<Size x="1" y="1" />
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnLoad function="FollowerLocationInfo_OnLoad" />
		</Scripts>
	</Frame>

	<Button name="FollowerLocationInfoBoxButtonTemplate" virtual="true">
		<Size y="30" />
		<Anchors>
			<Anchor point="LEFT" />
			<Anchor point="RIGHT" />
		</Anchors>
	</Button>

	<Frame name="FollowerLocationInfo" hidden="true" toplevel="true" frameStrata="DIALOG">
		<Size x="600" y="320" />
		<Anchors>
			<Anchor point="CENTER" />
		</Anchors>
		<Backdrop edgeFile="Interface\glues\common\TextPanel-Border" bgFile="Interface\DialogFrame\UI-DialogBox-Background-Dark" tile="true">
			<EdgeSize val="16"/>
			<TileSize val="16"/>
			<BackgroundInsets left="2" right="1" top="1" bottom="2"/>
		</Backdrop>
		<Layers>
			<Layer Level="ARTWORK">
				<FontString parentKey="Header" text="Follower Location Info" inherits="GameFontNormal">
					<Size y="10" />
					<Anchors>
						<Anchor point="TOP" x="0" y="-7" />
					</Anchors>
				</FontString>
				<Texture parentKey="HeaderDivider" file="Interface\buttons\white8x8" alpha="0.5">
					<Size y="1" />
					<Anchors>
						<Anchor point="LEFT" x="4" /> <Anchor point="RIGHT" x="-2" />
						<Anchor point="TOP" relativeKey="$parent.Header" relativePoint="BOTTOM" y="-6"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button parentKey="Close" inherits="UIPanelCloseButton">
				<Size x="24" y="24" />
				<Anchors>
					<Anchor point="TOPRIGHT" x="3" y="3" />
				</Anchors>
			</Button>

			<ScrollFrame name="$parentFollowerList" parentKey="FollowerList" inherits="HybridScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="0" y="0" />
					<Anchor point="BOTTOMRIGHT" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer Level="ARTWORK">
						<Texture parentKey="Divider" file="Interface\buttons\white8x8" alpha="0.5">
							<Size x="1" />
							<Anchors>
								<Anchor point="TOP" x="0" />
								<Anchor point="BOTTOM" x="0" />
								<Anchor point="LEFT" relativeKey="$parent" relativePoint="RIGHT" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Slider name="$parentScrollBar" parentKey="Bar" inherits="MinimalHybridScrollBarTemplate" hidden="true">
						<Anchors>
							<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="2" y="-15"/>
							<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="2" y="12"/>
						</Anchors>
						<!--
						<Size x="12" y="0" />
						<Backdrop bgFile="Interface\Buttons\UI-SliderBar-Background" edgeFile="Interface\Buttons\UI-SliderBar-Border" tile="true">
							<EdgeSize val="8" />
							<TileSize val="8" />
							<BackgroundInsets left="3" right="3" top="3" bottom="3" />
						</Backdrop>
						<ThumbTexture parentKey="Thumb" file="Interface\Buttons\UI-SliderBar-Button-Vertical" />
						<Scripts>
							<OnValueChanged>
								self:GetParent():SetVerticalScroll(value);
							</OnValueChanged>
						</Scripts>
						-->
					</Slider>
				</Frames>
			</ScrollFrame>

			<EditBox parentKey="SearchBox" inherits="SearchBoxTemplate" letters="40">
				<Size x="0" y="20"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.FollowerList" x="6" y="-1" />
					<Anchor point="TOPRIGHT" relativeKey="$parent.FollowerList" x="-1" y="-1" />
				</Anchors>
				<Scripts>
					<OnTextChanged function="$parent.SearchTextChanged"/>
					<OnLoad>
						self:SetFrameLevel(self:GetParent():FollowerList:GetFraneLevel());
						self:SetScale(0.75);
						SearchBoxTemplate_OnLoad(self);
					</OnLoad>
				</Scripts>
			</EditBox>

			<Frame name="$parentFilterDropDown" parentKey="Filter" hidden="true"> <!-- TODO: currently not fully implemented -->
				<Size x="100" y="26"/>
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent.FollowerList" relativePoint="TOPRIGHT" x="-27" />
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture parentKey="Left" file="Interface\Common\Common-Input-Border">
							<Size x="8" y="20"/>
							<Anchors>
								<Anchor point="LEFT" x="-5" y="0"/>
							</Anchors>
							<TexCoords left="0" right="0.0625" top="0" bottom="0.625"/>
						</Texture>
						<Texture parentKey="Right" file="Interface\Common\Common-Input-Border">
							<Size x="8" y="20"/>
							<Anchors>
								<Anchor point="RIGHT" x="0" y="0"/>
							</Anchors>
							<TexCoords left="0.9375" right="1.0" top="0" bottom="0.625"/>
						</Texture>
						<Texture parentKey="Middle" file="Interface\Common\Common-Input-Border">
							<Size x="10" y="20"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.Left" relativePoint="RIGHT"/>
								<Anchor point="RIGHT" relativeKey="$parent.Right" relativePoint="LEFT"/>
							</Anchors>
							<TexCoords left="0.0625" right="0.9375" top="0" bottom="0.625"/>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<FontString name="$parentText" inherits="GameFontHighlightSmall" justifyH="LEFT" text="Text">
							<Size x="0" y="24"/>
							<Anchors>
								<Anchor point="LEFT" />
								<Anchor point="RIGHT" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Button name="$parentButton">
						<Size x="24" y="24"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent" relativePoint="RIGHT" x="0" y="0" />
						</Anchors>
						<Scripts>
							<OnClick>
								ToggleDropDownMenu(nil, nil, self:GetParent());
								PlaySound("igMainMenuOptionCheckBoxOn");
							</OnClick>
						</Scripts>
						<NormalTexture name="$parentNormalTexture" file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Up">
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</NormalTexture>
						<PushedTexture name="$parentPushedTexture" file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Down">
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</PushedTexture>
						<DisabledTexture name="$parentDisabledTexture" file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Disabled">
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</DisabledTexture>
						<HighlightTexture name="$parentHighlightTexture" file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD">
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</HighlightTexture>
					</Button>
					<Frame name="$parentMouseOver" enableMouse="true">
						<Size x="125" y="32"/>
						<Anchors>
							<Anchor point="TOPLEFT" x="-3"/>
						</Anchors>
						<Scripts>
							<OnEnter function="FollowerLocationInfoFilter_OnEnter"/>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad>
						self:SetScale(0.75);
					</OnLoad>
				</Scripts>
			</Frame>

			<Frame name="$parentSortDropDown" parentKey="Sort" hidden="true"> <!-- TODO: currently not fully implemented -->
				<Size x="100" y="26"/>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeKey="$parent.FollowerList" relativePoint="TOPLEFT" x="8" />
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture parentKey="Left" file="Interface\Common\Common-Input-Border">
							<Size x="8" y="20"/>
							<Anchors>
								<Anchor point="LEFT" x="-5" y="0"/>
							</Anchors>
							<TexCoords left="0" right="0.0625" top="0" bottom="0.625"/>
						</Texture>
						<Texture parentKey="Right" file="Interface\Common\Common-Input-Border">
							<Size x="8" y="20"/>
							<Anchors>
								<Anchor point="RIGHT" x="0" y="0"/>
							</Anchors>
							<TexCoords left="0.9375" right="1.0" top="0" bottom="0.625"/>
						</Texture>
						<Texture parentKey="Middle" file="Interface\Common\Common-Input-Border">
							<Size x="10" y="20"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.Left" relativePoint="RIGHT"/>
								<Anchor point="RIGHT" relativeKey="$parent.Right" relativePoint="LEFT"/>
							</Anchors>
							<TexCoords left="0.0625" right="0.9375" top="0" bottom="0.625"/>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<FontString name="$parentText" inherits="GameFontHighlightSmall" justifyH="LEFT" text="Text">
							<Size x="0" y="24"/>
							<Anchors>
								<Anchor point="LEFT" />
								<Anchor point="RIGHT" />
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Frames>
					<Button name="$parentButton">
						<Size x="24" y="24"/>
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent" relativePoint="RIGHT" x="0" y="0" />
						</Anchors>
						<Scripts>
							<OnClick>
								ToggleDropDownMenu(nil, nil, self:GetParent());
								PlaySound("igMainMenuOptionCheckBoxOn");
							</OnClick>
						</Scripts>
						<NormalTexture name="$parentNormalTexture" file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Up">
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</NormalTexture>
						<PushedTexture name="$parentPushedTexture" file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Down">
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</PushedTexture>
						<DisabledTexture name="$parentDisabledTexture" file="Interface\ChatFrame\UI-ChatIcon-ScrollDown-Disabled">
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</DisabledTexture>
						<HighlightTexture name="$parentHighlightTexture" file="Interface\Buttons\UI-Common-MouseHilight" alphaMode="ADD">
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="RIGHT"/>
							</Anchors>
						</HighlightTexture>
					</Button>
					<Frame name="$parentMouseOver" enableMouse="true">
						<Size x="125" y="32"/>
						<Anchors>
							<Anchor point="TOPLEFT" x="-3"/>
						</Anchors>
						<Scripts>
							<OnEnter function="FollowerLocationInfoFilter_OnEnter"/>
							<OnLeave>
								GameTooltip:Hide();
							</OnLeave>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad>
						self:SetScale(0.75);
					</OnLoad>
				</Scripts>
			</Frame>

			<ScrollFrame name="$parentFollowerInfo" parentKey="FollowerInfo" enableMouse="true">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.Scroll" relativePoint="TOPRIGHT" />
					<Anchor point="BOTTOMRIGHT" x="-4" y="4"/>
				</Anchors>
				<Frames>
					<Slider name="$parentScrollBar" parentKey="Bar" inherits="">
						<Size x="12" y="0" />
						<Backdrop bgFile="Interface\Buttons\UI-SliderBar-Background" edgeFile="Interface\Buttons\UI-SliderBar-Border" tile="true">
							<EdgeSize val="8" />
							<TileSize val="8" />
							<BackgroundInsets left="3" right="3" top="3" bottom="3" />
						</Backdrop>
						<ThumbTexture parentKey="Thumb" file="Interface\Buttons\UI-SliderBar-Button-Vertical" />
						<Scripts>
							<OnValueChanged>
								self:GetParent():SetVerticalScroll(value);
							</OnValueChanged>
						</Scripts>
					</Slider>
				</Frames>
				<ScrollChild>
					<Frame name="$parentChild" parentKey="Child" >
						<Size x="1" y="1" />
					</Frame>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
		<Scripts>
			<OnEscapePressed> self:Hide(); </OnEscapePressed>
			<OnLoad function="FollowerLocationInfo_OnLoad" />
		</Scripts>
	</Frame>

</Ui>